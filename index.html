<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>max yang</title>
    <meta name="description" content="Max Yang is a 14-year-old boy from Lake Zurich who plays a violin and programs code.">
    <link rel="icon" type="image/png" sizes="512x512" href="images/favicon-512x512.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="180x180" href="images/favicon-180x180.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/fade.css">
    <link rel="stylesheet" href="css/new.css">
    <meta name="theme-color" content="#596886"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script>window.addEventListener("beforeunload", function () {
      document.body.classList.add("animate-out");
    });</script>
</head>

<body class = "animate-in">
<div class="dynamic-island">
  <a href="index.html"><img src="images/health-central.svg" alt="logo-max" class="island-logo mr-6 h-8 w-auto rounded-md shadow" style="height:48px; width:auto; margin-right:1.5rem;"></a>

    <nav class="flex-1 flex flex-row gap-8 justify-end items-center">
      <a href="index.html" class="island-link">home</a>
      <a href="projects.html" class="island-link">projects</a>
      <a href="gallery.html" class="island-link">gallery</a>
      <a href="aboutme.html" class="island-link">about me</a>
    </nav>
</div>
<div class="flex flex-col h-screen w-screenjustify-between ">
<header class="bg-main2">
    
<div class="relative z-20 border-b bg-main rounded-md">
    
    <div class="px-6 md:px-12 lg:container lg:mx-auto lg:px-6 py-8">
    <div class="flex items-center justify-between">
            <div class="relative z-20 rounded-md">
            <img src="images/health-central.svg" alt="logo-max" class="w-32">
</div>



</div>
</div>
</div>
<style>
  .dynamic-island {
    position: fixed;
    top: clamp(12px, 2vw, 24px);
    left: 50%;
    transform: translateX(-50%);
    width: clamp(280px, 90vw, 1200px);
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12);
    border-radius: clamp(24px, 4vw, 32px);
    padding: clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 3vw, 2rem);
    display: flex;
    align-items: center;
    justify-content: space-between;
    z-index: 1000;
    transition: all 0.3s ease;
  }
  
  .dynamic-island:hover {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
    background: rgba(255, 255, 255, 1);
  }
  
  .island-logo {
    display: block;
    height: clamp(24px, 3vw, 32px);
    width: auto;
    margin-right: clamp(0.75rem, 2vw, 1.5rem);

    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    background: #fff;
    flex-shrink: 0;
  }
  
  .island-link {
    text-decoration: none;
    color: #2a4d8f;
    font-weight: 500;
    font-size: clamp(0.9rem, 1.2vw, 1.1rem);
    padding: clamp(0.25rem, 0.8vw, 0.5rem) clamp(0.5rem, 1.2vw, 1rem);
    border-radius: clamp(16px, 2vw, 20px);
    transition: all 0.2s ease;
    white-space: nowrap;
  }
  
  .island-link:hover {
    background: #e0e7ff;
    color: #1e293b;
    transform: translateY(-1px);
  }
  
  /* Navigation container */
  .dynamic-island nav {
    display: flex;
    gap: clamp(0.5rem, 1.5vw, 2rem);
    align-items: center;
    flex-wrap: nowrap;
  }
  
  /* Medium screens (tablets) */
  @media (max-width: 1024px) and (min-width: 769px) {
    .dynamic-island {
      width: 92vw;
      padding: 0.6rem 1.5rem;
    }
    .island-link {
      font-size: 1rem;
      padding: 0.3rem 0.7rem;
    }
    .dynamic-island nav {
      gap: 1rem;
    }
  }
  
  /* Smaller tablets and large phones in landscape */
  @media (max-width: 768px) and (min-width: 641px) {
    .dynamic-island {
      width: 94vw;
      padding: 0.5rem 1rem;
      border-radius: 28px;
    }
    .island-logo {
      height: 28px;
      margin-right: 1rem;
    }
    .island-link {
      font-size: 0.95rem;
      padding: 0.3rem 0.6rem;
    }
    .dynamic-island nav {
      gap: 0.75rem;
    }
  }
      .marquee {
    width: 100%;
    margin: 0 auto;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
  }
  .marquee-content {
    display: inline-block;
    animation: marquee-scroll 20s linear infinite;
    will-change: transform;
  }
  .marquee-content span {
    display: inline-block;
    font-size: 20px;
    color: #000000;
    padding: 0 3rem;
  }
  .marquee:hover .marquee-content {
    animation-play-state: paused;
  }
  
  @keyframes marquee-scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }
  h1 {
    font-size: 1.6rem;
    margin-bottom: 1rem;
  }
  .trial {
    border-bottom: 1px solid #ccc;
    padding: 0.8rem 0;
  }
  .trial:last-child {
    border: none;
  }
  .title {
    font-weight: 600;
    font-size: 1.1rem;
    color: #2a4d8f;
  }
  .info {
    color: #444;
    font-size: 0.9rem;
  }

    </style>

  <div class="marquee">
    <div class="marquee-content">
      <span>health</span>
      <span>|</span>
      <span>central</span>
      <span>|</span>
      <span>health</span>
      <span>|</span>
      <span>central</span>
      <span>|</span>      
      <span>health</span>
      <span>|</span>
      <span>central</span>
      <span>|</span>      
      <span>health</span>
      <span>|</span>
      <span>central</span>
      <span>|</span>      
      <span>health</span>
      <span>|</span>
      <span>central</span>
      <span>|</span>      
      <span>health</span>
      <span>|</span>
      <span>central</span>
      <span>|</span>
    </div>
  </div>

</header>

    
<main class="">



<body>

    <section
      id="hero"
      class="widescreen:section-min-height tallscreen:section-min-height mb-12 flex scroll-mt-40 flex-col-reverse items-center justify-center gap-8 p-6 sm:flex-row"
    >
      <article class="sm:w-1/2 mx-auto">
          <h1 class="flex items-center justify-start sm:justify-center font-extrabold text-8xl"
            >max yang</h1>
        <p
          class="mt-4  gap-auto max-w-md text-center text-2xl text-slate-700 dark:text-slate-400 sm:text-left"
        >
          hi! I'm max, a student currently in san diego, california. I'm a violinist and a programmer!
        </p>
        <p
          class="mt-4 max-w-md text-center text-2xl text-slate-700 dark:text-slate-400 sm:text-left"
        >
          :) <br>please feel free to explore my website! 
        </p>
      </article>
      <style>
        img {
          -drag: none;
          user-select: none;
          -moz-user-select: none;
          -webkit-user-drag: none;
          -webkit-user-select: none;
          -ms-user-select: none;

        }
        
    </style>
    <img class="w-1/2 h-1/2 rounded-3xl" src="images/maxhomepage.jpg" alt="Max Yang at a Mainly Mozart Youth Orchestra Concert at the Rady Shell located in San Diego." />
    </section>

    <hr class="mx-auto w-1/2 bg-black" />
    <section
      id="testimonials" class="widescreen:section-min-height tallscreen:section-min-height my-12 scroll-mt-20 p-6 bg">
      <h2
        class="mb-6 text-center text-4xl font-bold text-slate-900 dark:text-white sm:text-5xl bg-2"
      >
        latest developments
      </h2>
    </section>
  

        
      <div id="trials">Loading...</div>

  <script>
    async function loadNeurodivergentTrials() {
      // Search terms for the query
      const terms = [
        "autism",
      ];

      const query = terms.map(c => `${encodeURIComponent(c)}`).join(",");

      // Remove 'fields=' so we receive nested modules like statusModule with date structs
      const url = `https://clinicaltrials.gov/api/v2/studies?query.term=${query}&pageSize=100&format=json&sort=LastUpdatePostDate:desc`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error(`API error: ${res.status}`);
        const data = await res.json();

        const container = document.getElementById("trials");
        container.innerHTML = "";

        if (!data?.studies || data.studies.length === 0) {
          container.innerHTML = "No current neurodivergent-related trials found.";
          return;
        }

        // Date formatting helper (handles undefined safely)
        const fmt = (iso) => {
          if (!iso) return "N/A";
          try {
            return new Date(iso).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });
          } catch {
            return iso;
          }
        };

        data.studies.forEach(study => {
          const div = document.createElement("div");
          div.className = "trial";
          
          // Extract data from the correct nested structure
          const protocolSection = study.protocolSection || {};
          const identificationModule = protocolSection.identificationModule || {};
          const statusModule = protocolSection.statusModule || {};
          const conditionsModule = protocolSection.conditionsModule || {};
          
          const nctId = identificationModule.nctId || "N/A";
          const briefTitle = identificationModule.briefTitle || "No title available";
          const trialConditions = conditionsModule.conditions || [];
          const overallStatus = statusModule.overallStatus || "Unknown";
          const studyFirstPostDate = statusModule.studyFirstPostDateStruct?.date || "";
          const lastUpdatePostDate = statusModule.lastUpdatePostDateStruct?.date || "";
          const startDate = statusModule.startDateStruct?.date || "";
          
          div.innerHTML = `
            <div class="title">
              <a href="https://clinicaltrials.gov/study/${nctId}" target="_blank">
                ${briefTitle}
              </a>
            </div>
            <div class="info">
              <strong>Conditions:</strong> ${trialConditions.join(", ") || "N/A"}<br>
              <strong>Status:</strong> ${overallStatus}<br>
              <strong>Start:</strong> ${fmt(startDate)} · <strong>Posted:</strong> ${fmt(studyFirstPostDate)} · <strong>Updated:</strong> ${fmt(lastUpdatePostDate)}
            </div>
          `;
          container.appendChild(div);
        });
      } catch (err) {
        console.error('Detailed error:', err);
        document.getElementById("trials").innerHTML = `
          <div style="color: red; padding: 1rem; border: 1px solid #ccc; border-radius: 4px;">
            <strong>Error loading trials:</strong> ${err.message}<br>
            <small>Please check the browser console for more details.</small>
          </div>
        `;
      }
    }

    loadNeurodivergentTrials();
  </script>
</div>

</main>


</div>
  
    
</body>

</html>
